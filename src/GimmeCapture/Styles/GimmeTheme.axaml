<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Styles.Resources>
        <ResourceDictionary>
            <!-- Dynamic Theme Colors (Default to Red) -->
            <Color x:Key="ThemeAccentColor">#E60012</Color>
            <Color x:Key="ThemeDeepColor">#900000</Color>
            
            <SolidColorBrush x:Key="ThemeAccentBrush" Color="{DynamicResource ThemeAccentColor}"/>
            <SolidColorBrush x:Key="ThemeDeepBrush" Color="{DynamicResource ThemeDeepColor}"/>

            <!-- Theme Color Palette -->
            <Color x:Key="AccentRed">#E60012</Color>
            <Color x:Key="DeepRed">#900000</Color>
            <Color x:Key="GothicBlack">#121212</Color>
            <Color x:Key="ChromeSilver">#E0E0E0</Color>
            <Color x:Key="MetallicSilver">#A0A0A0</Color>
            <Color x:Key="BabymetalGold">#D4AF37</Color>
            <Color x:Key="PanelGray">#1E1E1E</Color>

            <SolidColorBrush x:Key="AccentRedBrush" Color="{StaticResource AccentRed}"/>
            <SolidColorBrush x:Key="BabymetalGoldBrush" Color="{StaticResource BabymetalGold}"/>
            <SolidColorBrush x:Key="DeepRedBrush" Color="{StaticResource DeepRed}"/>
            <SolidColorBrush x:Key="GothicBlackBrush" Color="{StaticResource GothicBlack}"/>
            <SolidColorBrush x:Key="ChromeSilverBrush" Color="{StaticResource ChromeSilver}"/>
            <SolidColorBrush x:Key="MetallicSilverBrush" Color="{StaticResource MetallicSilver}"/>
            <SolidColorBrush x:Key="PanelGrayBrush" Color="{StaticResource PanelGray}"/>

            <!-- Metal Button Style -->
            <ControlTheme x:Key="MetalButton" TargetType="Button">
                <Setter Property="Background" Value="{StaticResource GothicBlackBrush}"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="BorderThickness" Value="2"/>
                <Setter Property="Padding" Value="25,10"/>
                <Setter Property="CornerRadius" Value="0"/>
                <Setter Property="FontWeight" Value="Bold"/>
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="Transitions">
                    <Transitions>
                        <BrushTransition Property="Background" Duration="0:0:0.2"/>
                        <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.1"/>
                    </Transitions>
                </Setter>
                <Setter Property="Template">
                    <ControlTemplate>
                        <Border Name="OuterBorder" 
                                Background="{TemplateBinding Background}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{TemplateBinding CornerRadius}"
                                Padding="{TemplateBinding Padding}"
                                BoxShadow="0 0 5 0 #40E60012">
                            <Border.BorderBrush>
                                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                    <GradientStop Offset="0" Color="{DynamicResource ThemeDeepColor}"/>
                                    <GradientStop Offset="0.5" Color="{DynamicResource ThemeAccentColor}"/>
                                    <GradientStop Offset="1" Color="{DynamicResource ThemeDeepColor}"/>
                                </LinearGradientBrush>
                            </Border.BorderBrush>
                            <Grid>
                                <!-- Accent Corners -->
                                <Rectangle Fill="{DynamicResource ThemeAccentBrush}" Width="8" Height="1.5" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="-20,-5,0,0"/>
                                <Rectangle Fill="{DynamicResource ThemeAccentBrush}" Width="1.5" Height="8" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="-20,-5,0,0"/>
                                
                                <Rectangle Fill="{DynamicResource ThemeAccentBrush}" Width="8" Height="1.5" VerticalAlignment="Bottom" HorizontalAlignment="Right" Margin="0,0,-20,-5"/>
                                <Rectangle Fill="{DynamicResource ThemeAccentBrush}" Width="1.5" Height="8" VerticalAlignment="Bottom" HorizontalAlignment="Right" Margin="0,0,-20,-5"/>

                                <ContentPresenter Name="PART_ContentPresenter"
                                                  Content="{TemplateBinding Content}"
                                                  ContentTemplate="{TemplateBinding ContentTemplate}"
                                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter>
                
                <Style Selector="^:pointerover">
                    <Setter Property="Background" Value="#1A1A1A"/>
                    <Setter Property="RenderTransform" Value="scale(1.05)"/>
                    <Style Selector="^ /template/ Border#OuterBorder">
                        <Setter Property="BoxShadow" Value="0 0 12 2 #80E60012"/>
                    </Style>
                </Style>
                
                <Style Selector="^:pressed">
                    <Setter Property="Background" Value="{DynamicResource ThemeAccentBrush}"/>
                    <Setter Property="Foreground" Value="White"/>
                    <Setter Property="RenderTransform" Value="scale(0.95)"/>
                </Style>
            </ControlTheme>

            <!-- SnipToolbar Button Style -->
            <ControlTheme x:Key="SnipButton" TargetType="Button">
                <Setter Property="Background" Value="#2A2A2A"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="Padding" Value="6,4"/>
                <Setter Property="MinWidth" Value="28"/>
                <Setter Property="MinHeight" Value="28"/>
                <Setter Property="CornerRadius" Value="2"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="BorderBrush" Value="#444444"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="Template">
                    <ControlTemplate>
                        <Panel>
                            <Border Name="PART_Border"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="{TemplateBinding CornerRadius}">
                                <ContentPresenter Name="PART_ContentPresenter"
                                                  Content="{TemplateBinding Content}"
                                                  Padding="{TemplateBinding Padding}"
                                                  HorizontalContentAlignment="Center"
                                                  VerticalContentAlignment="Center"/>
                            </Border>
                        </Panel>
                    </ControlTemplate>
                </Setter>

                <Style Selector="^:pointerover /template/ Border#PART_Border">
                    <Setter Property="Background" Value="#3A3A3A"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource ThemeAccentBrush}"/>
                </Style>
                <Style Selector="^:pressed">
                    <Setter Property="RenderTransform" Value="scale(0.95)"/>
                </Style>
            </ControlTheme>

            <!-- SnipToolbar Button with Active State Support -->
            <ControlTheme x:Key="SnipToolButton" TargetType="Button">
                <Setter Property="Background" Value="#2A2A2A"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="Padding" Value="6,4"/>
                <Setter Property="MinWidth" Value="28"/>
                <Setter Property="MinHeight" Value="28"/>
                <Setter Property="CornerRadius" Value="2"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="BorderBrush" Value="#444444"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="Template">
                    <ControlTemplate>
                        <Panel>
                            <Border Name="PART_Border"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="{TemplateBinding CornerRadius}">
                                <ContentPresenter Name="PART_ContentPresenter"
                                                  Content="{TemplateBinding Content}"
                                                  Padding="{TemplateBinding Padding}"
                                                  HorizontalContentAlignment="Center"
                                                  VerticalContentAlignment="Center"/>
                            </Border>
                        </Panel>
                    </ControlTemplate>
                </Setter>

                <Style Selector="^:pointerover /template/ Border#PART_Border">
                    <Setter Property="Background" Value="#3A3A3A"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource ThemeAccentBrush}"/>
                </Style>
                <Style Selector="^:pressed">
                    <Setter Property="RenderTransform" Value="scale(0.95)"/>
                </Style>
                <Style Selector="^.active /template/ Border#PART_Border">
                    <Setter Property="Background" Value="{DynamicResource ThemeAccentBrush}"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource ThemeAccentBrush}"/>
                    <Setter Property="BoxShadow" Value="0 0 8 0 #80E60012"/>
                </Style>
            </ControlTheme>

            <ControlTheme x:Key="SnipToggleButton" TargetType="ToggleButton">
                <Setter Property="Background" Value="#2A2A2A"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="Padding" Value="6,4"/>
                <Setter Property="MinWidth" Value="28"/>
                <Setter Property="MinHeight" Value="28"/>
                <Setter Property="CornerRadius" Value="2"/>
                <Setter Property="BorderThickness" Value="1"/>
                <Setter Property="BorderBrush" Value="#444444"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="Template">
                    <ControlTemplate>
                        <Panel>
                            <Border Name="PART_Border"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="{TemplateBinding CornerRadius}">
                                <ContentPresenter Name="PART_ContentPresenter"
                                                  Content="{TemplateBinding Content}"
                                                  Padding="{TemplateBinding Padding}"
                                                  HorizontalContentAlignment="Center"
                                                  VerticalContentAlignment="Center"/>
                            </Border>
                        </Panel>
                    </ControlTemplate>
                </Setter>

                <Style Selector="^:pointerover /template/ Border#PART_Border">
                    <Setter Property="Background" Value="#3A3A3A"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource ThemeAccentBrush}"/>
                </Style>
                <Style Selector="^:checked /template/ Border#PART_Border">
                    <Setter Property="Background" Value="{DynamicResource ThemeAccentBrush}"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource ThemeAccentBrush}"/>
                    <Setter Property="BoxShadow" Value="0 0 8 0 #80E60012"/> <!-- Will address shadow color later if needed -->
                </Style>
                <Style Selector="^:pressed">
                    <Setter Property="RenderTransform" Value="scale(0.95)"/>
                </Style>
            </ControlTheme>
        </ResourceDictionary>
    </Styles.Resources>

    <!-- TabControl & TabItem Style -->
    <Style Selector="TabControl">
        <Setter Property="Background" Value="Transparent"/>
    </Style>

    <Style Selector="TabItem">
        <Setter Property="FontSize" Value="16"/>
        <Setter Property="FontWeight" Value="SemiBold"/>
        <Setter Property="Foreground" Value="Gray"/>
        <Setter Property="Padding" Value="15,5"/>
        <Setter Property="Margin" Value="0,0,10,0"/>
        <Setter Property="Transitions">
            <Transitions>
                <BrushTransition Property="Foreground" Duration="0:0:0.2"/>
            </Transitions>
        </Setter>
    </Style>

    <Style Selector="TabItem:pointerover">
        <Setter Property="Foreground" Value="{StaticResource ChromeSilverBrush}"/>
    </Style>

    <Style Selector="TabItem:selected">
        <Setter Property="Foreground" Value="{DynamicResource ThemeAccentBrush}"/>
        <Style Selector="^ /template/ Border#PART_SelectedPipe">
            <Setter Property="Background" Value="{DynamicResource ThemeAccentBrush}"/>
            <Setter Property="Height" Value="3"/>
            <Setter Property="CornerRadius" Value="1.5"/>
            <Setter Property="BoxShadow" Value="0 0 8 1 #80E60012"/>
        </Style>
    </Style>

    <!-- CheckBox & ComboBox Basic Tuning -->
    <Style Selector="CheckBox">
        <Setter Property="Foreground" Value="White"/>
        <Style Selector="^:checked /template/ Border#NormalRectangle">
            <Setter Property="Background" Value="{DynamicResource ThemeAccentBrush}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource ThemeAccentBrush}"/>
        </Style>
    </Style>
    <Style Selector="ComboBox">
        <Setter Property="Background" Value="#1E1E1E"/>
        <Setter Property="BorderBrush" Value="#333333"/>
        <Setter Property="Foreground" Value="White"/>
        <Style Selector="^:pointerover">
            <Setter Property="BorderBrush" Value="{DynamicResource ThemeAccentBrush}"/>
        </Style>
        <Style Selector="^:dropdownopen">
            <Setter Property="BorderBrush" Value="{DynamicResource ThemeAccentBrush}"/>
        </Style>
    </Style>
    <Style Selector="TextBox">
        <Setter Property="Background" Value="#1E1E1E"/>
        <Setter Property="BorderBrush" Value="#333333"/>
        <Setter Property="Foreground" Value="White"/>
        <Style Selector="^:focus">
            <Setter Property="BorderBrush" Value="{DynamicResource ThemeAccentBrush}"/>
        </Style>
    </Style>
    <!-- Custom Slider Style (Robust Override & No Clipping) -->
    <Style Selector="Slider">
        <Setter Property="Height" Value="32"/>
        <Setter Property="ClipToBounds" Value="False"/>
        <Setter Property="Background" Value="Transparent"/>
        <Style.Resources>
            <SolidColorBrush x:Key="SliderThumbBackground" Color="{DynamicResource ThemeAccentColor}"/>
            <SolidColorBrush x:Key="SliderThumbBackgroundPointerOver" Color="{DynamicResource ThemeAccentColor}"/>
            <SolidColorBrush x:Key="SliderThumbBackgroundPressed" Color="{DynamicResource ThemeDeepColor}"/>
            <SolidColorBrush x:Key="SliderTrackValueFill" Color="{DynamicResource ThemeAccentColor}"/>
            <SolidColorBrush x:Key="SliderTrackValueFillPointerOver" Color="{DynamicResource ThemeAccentColor}"/>
            <SolidColorBrush x:Key="SliderTrackValueFillPressed" Color="{DynamicResource ThemeDeepColor}"/>
        </Style.Resources>
        
        <Style Selector="^ /template/ Thumb">
            <Setter Property="Width" Value="16"/>
            <Setter Property="Height" Value="16"/>
            <Setter Property="ClipToBounds" Value="False"/>
            <Setter Property="Template">
                <ControlTemplate>
                    <Grid Background="Transparent" ClipToBounds="False">
                        <Ellipse Fill="{DynamicResource ThemeAccentBrush}"
                                 Stroke="{StaticResource GothicBlackBrush}"
                                 StrokeThickness="1"
                                 Width="12" Height="12"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center"/>
                    </Grid>
                </ControlTemplate>
            </Setter>
        </Style>

        <Style Selector="^ /template/ Border#TrackBackground">
            <Setter Property="Height" Value="2"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Background" Value="#444444"/>
            <Setter Property="CornerRadius" Value="1"/>
        </Style>
        
        <Style Selector="^ /template/ Track#PART_Track">
            <Setter Property="ClipToBounds" Value="False"/>
        </Style>
    </Style>
</Styles>
