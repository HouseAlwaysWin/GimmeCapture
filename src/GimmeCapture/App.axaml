<Application xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:cv="using:GimmeCapture.Converters"
             xmlns:services="using:GimmeCapture.Services.Core"
             x:Class="GimmeCapture.App"
             RequestedThemeVariant="Dark">
             <!-- "Default" ThemeVariant follows system theme variant. "Dark" or "Light" are other available options. -->

    <Application.Resources>
        <ResourceDictionary>
            <!-- Dynamic Theme Colors (Root Level for Global Overrides) -->
            <Color x:Key="ThemeAccentColor">#E60012</Color>
            <Color x:Key="ThemeDeepColor">#900000</Color>
            
            <SolidColorBrush x:Key="ThemeAccentBrush" Color="{DynamicResource ThemeAccentColor}"/>
            <SolidColorBrush x:Key="ThemeDeepBrush" Color="{DynamicResource ThemeDeepColor}"/>

            <cv:StateToBoolConverter x:Key="StateToBoolConverter"/>
            <cv:ColorToBrushConverter x:Key="ColorToBrushConverter"/>
            <cv:ColorToBoxShadowConverter x:Key="ColorToBoxShadowConverter"/>
            <cv:ThicknessConverter x:Key="ThicknessConverter"/>
            <cv:EnumToBoolConverter x:Key="EnumToBoolConverter"/>
            <cv:ColorMatchConverter x:Key="ColorMatchConverter"/>
            <cv:EnumMatchConverter x:Key="EnumMatchConverter"/>
            <cv:EnumNotMatchConverter x:Key="EnumNotMatchConverter"/>
            <cv:RectXConverter x:Key="RectXConverter"/>
            <cv:RectYConverter x:Key="RectYConverter"/>
            <cv:RectWidthConverter x:Key="RectWidthConverter"/>
            <cv:RectHeightConverter x:Key="RectHeightConverter"/>
            <cv:BoolInvertConverter x:Key="BoolInvertConverter"/>
            <cv:ModifiedColorConverter x:Key="ModifiedColorConverter"/>
            <cv:ArrowGeometryConverter x:Key="ArrowGeometryConverter"/>
            <cv:AnnotationToLeftConverter x:Key="AnnotationToLeftConverter"/>
            <cv:AnnotationToTopConverter x:Key="AnnotationToTopConverter"/>
            <cv:PenGeometryConverter x:Key="PenGeometryConverter"/>
            <cv:BoolToCrossCursorConverter x:Key="BoolToCrossCursorConverter"/>
            <cv:ThicknessToLeftTopMarginConverter x:Key="ThicknessToLeftTopMarginConverter"/>
            <cv:StatusToColorConverter x:Key="StatusToColorConverter"/>
            <cv:StatusToTextConverter x:Key="StatusToTextConverter"/>
            <cv:LanguageKeyConverter x:Key="LanguageKeyConverter"/>
            <cv:BoolToFontWeightConverter x:Key="BoolToFontWeightConverter"/>
            <cv:BoolToFontStyleConverter x:Key="BoolToFontStyleConverter"/>
            <cv:SnapshotOffsetConverter x:Key="SnapshotOffsetConverter"/>
            <cv:PointsToRectConverter x:Key="PointsToRectConverter"/>
            <cv:PointsToInverseTranslateConverter x:Key="PointsToInverseTranslateConverter"/>
        </ResourceDictionary>
    </Application.Resources>

    <Application.Styles>
        <FluentTheme />
        <StyleInclude Source="avares://Avalonia.Controls.ColorPicker/Themes/Fluent/Fluent.xaml" />
        <StyleInclude Source="/Styles/GimmeTheme.axaml"/>
        
        <!-- Global Font Binding for Popups -->
        <Style Selector="ToolTip">
            <Setter Property="FontFamily" Value="{Binding CurrentFontFamily, Source={x:Static services:LocalizationService.Instance}}"/>
        </Style>
        <Style Selector="ContextMenu">
            <Setter Property="FontFamily" Value="{Binding CurrentFontFamily, Source={x:Static services:LocalizationService.Instance}}"/>
        </Style>
    </Application.Styles>
</Application>